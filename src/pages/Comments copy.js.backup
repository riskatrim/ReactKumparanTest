import React, { Component, useState, useEffect } from "react";
// import "./style.css";
import "bootstrap/dist/css/bootstrap.css";
import axios from "axios";
import PostCards from "./components/PostCards";

const Comments = ({ id }) => {
  const [img, setImg] = useState({});
  const [comments, setComments] = useState({});

  useEffect(() => {
    const fetchData = async () => {
      const resultsImg = await axios(
        "https://jsonplaceholder.typicode.com/photos/" + id
      );
      const resultsComment = await axios(
        "https://jsonplaceholder.typicode.com/comments/"
      );

      setImg(resultsImg.data);
      setComments(resultsComment.data);
    };
    fetchData();
  });
  console.log(comments);
  console.log(img);
  return (
    <div className="container">
      {/* {comments.map((comment, index) => ( */}
      <Comment comment={comments} img={img.url} />
      {/* ))} */}
    </div>
  );
};

const Comment = ({ key, comment, img }) => {
  const imgStyle = {
    width: "50px",
  };
  const inputStyle = {
    width: "100%",
  };

  return (
    <div className="container">
      <div className="card-body container d-flex flex-row mb-2">
        <input
          className="card-subtitle m-2 text-muted"
          placeholder="input yout text here"
          style={inputStyle}
        ></input>
        <a href={<PostCards />} className="btn btn-primary">
          Submit
        </a>
      </div>
      <div className="card card-body container d-flex flex-row mb-2">
        <div className="d-flex flex-row">
          <img
            src={img.url}
            className="rounded-circle mr-3"
            style={imgStyle}
            alt="card image"
          />
          <div className="d-flex flex-column mb-2">
            <p className="card-subtitle mb-2 text-muted">{comment.name}</p>
            <p className="card-text">{comment.body}</p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Comments;
